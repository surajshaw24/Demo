<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTC Invoice System</title>
    <style>
        /* Base Styles */
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.5;
            color: #333;
            background-color: #f9f9f9;
            padding: 20px;
        }
        
        /* A4 Page Dimensions - 210mm x 297mm */
        @page {
            size: A4;
            margin: 0;
        }
        
        .a4-page {
            width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .invoice-container {
            padding: 15mm;
            height: 100%;
        }
        
        /* Header Styles */
        .header {
            text-align: center;
            margin-bottom: 10mm;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5mm;
        }
        
        .company-name {
            font-size: 18pt;
            font-weight: bold;
            margin-bottom: 2mm;
        }
        
        .company-address {
            font-size: 10pt;
            margin-bottom: 1mm;
        }
        
        .gst-no {
            font-size: 10pt;
            font-weight: bold;
        }
        
        /* Invoice Details */
        .invoice-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8mm;
        }
        
        .consignor-details, .consignee-details {
            width: 48%;
        }
        
        .section-title {
            font-weight: bold;
            margin-bottom: 2mm;
            border-bottom: 1px dashed #000;
            font-size: 11pt;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 1mm;
            font-size: 10pt;
        }
        
        .detail-label {
            width: 35mm;
            font-weight: bold;
        }
        
        .detail-value {
            flex-grow: 1;
        }
        
        /* Transport Details */
        .transport-details {
            margin-bottom: 8mm;
        }
        
        .transport-details .detail-row {
            margin-bottom: 1mm;
        }
        
        /* Items Table */
        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 8mm;
            font-size: 10pt;
            page-break-inside: avoid;
        }
        
        .items-table th, .items-table td {
            border: 1px solid #000;
            padding: 2mm;
            text-align: center;
        }
        
        .items-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        /* Footer */
        .footer {
            display: flex;
            justify-content: space-between;
            margin-top: 10mm;
            font-size: 10pt;
            position: absolute;
            bottom: 15mm;
            width: calc(100% - 30mm);
        }
        
        .footer-section {
            width: 48%;
        }
        
        .signature-area {
            height: 25mm;
            border-top: 1px dashed #000;
            margin-top: 2mm;
            position: relative;
        }
        
        .signature-text {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            font-size: 10pt;
        }
        
        .stamp-area {
            height: 25mm;
            border: 1px solid #000;
            margin-top: 2mm;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Print Specific Styles */
        @media print {
            body {
                background: none;
                padding: 0;
            }
            
            .a4-page {
                box-shadow: none;
                margin: 0;
                width: 100%;
                height: 100%;
            }
            
            .no-print {
                display: none !important;
            }
            
            /* Ensure each invoice starts on a new page */
            .invoice-container {
                page-break-after: always;
            }
            
            /* Last page shouldn't have page break */
            .invoice-container:last-child {
                page-break-after: auto;
            }
        }
        
        /* Form Styles (Non-Print) */
        .form-container {
            max-width: 800px;
            margin: 0 auto 20px;
            padding: 20px;
            background: white;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        button {
            padding: 10px 15px;
            background: #2c5e1a;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background: #1e4211;
        }
        
        /* Copy Label */
        .copy-label {
            text-align: right;
            font-weight: bold;
            margin-bottom: 2mm;
            font-size: 11pt;
        }
    </style>
</head>
<body>
    <!-- Form Container -->
    <div class="form-container no-print">
        <h2>PTC Invoice Generator</h2>
        
        <div class="form-group">
            <label for="copyType">Copy Type</label>
            <select id="copyType" class="form-control">
                <option value="TRANSPORTER COPY">TRANSPORTER COPY</option>
                <option value="CONSIGNOR COPY">CONSIGNOR COPY</option>
                <option value="CONSIGNEE COPY">CONSIGNEE COPY</option>
                <option value="OFFICE COPY">OFFICE COPY</option>
            </select>
        </div>
        
        <div class="form-row" style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <div class="form-group">
                    <label for="consignorName">Consignor Name</label>
                    <input type="text" id="consignorName" value="ASIAN PAINTS LTD">
                </div>
                <div class="form-group">
                    <label for="consignorAddress">Address</label>
                    <textarea id="consignorAddress" rows="2">Dhanbad</textarea>
                </div>
                <div class="form-group">
                    <label for="consignorContact">Contact No</label>
                    <input type="text" id="consignorContact" value="7808958144">
                </div>
            </div>
            <div style="flex: 1;">
                <div class="form-group">
                    <label for="consigneeName">Consignee Name</label>
                    <input type="text" id="consigneeName" value="RAJESH HARDWARE PLY CENTER">
                </div>
                <div class="form-group">
                    <label for="consigneeAddress">Address</label>
                    <textarea id="consigneeAddress" rows="2">Jamtara</textarea>
                </div>
                <div class="form-group">
                    <label for="consigneeContact">Contact No</label>
                    <input type="text" id="consigneeContact">
                </div>
            </div>
        </div>
        
        <div class="form-row" style="display: flex; gap: 15px;">
            <div style="flex: 1;">
                <div class="form-group">
                    <label for="fromLocation">From</label>
                    <input type="text" id="fromLocation" value="Dhanbad">
                </div>
                <div class="form-group">
                    <label for="truckNo">Truck No</label>
                    <input type="text" id="truckNo" value="JH01DU-8224">
                </div>
            </div>
            <div style="flex: 1;">
                <div class="form-group">
                    <label for="toLocation">To</label>
                    <input type="text" id="toLocation" value="Jamtara">
                </div>
                <div class="form-group">
                    <label for="transporter">Transporter</label>
                    <input type="text" id="transporter" value="Shri Ram Logistics">
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="insurance">Insurance</label>
            <input type="text" id="insurance" value="Asian Paints Products">
        </div>
        
        <h3>Items</h3>
        <div id="itemsContainer">
            <div class="form-row" style="display: flex; gap: 5px; margin-bottom: 5px;">
                <input type="text" placeholder="SL No." value="1" style="width: 50px;">
                <input type="text" placeholder="Invoice No" value="1309941891" style="flex: 1;">
                <input type="text" placeholder="Packages" value="01" style="width: 80px;">
                <input type="text" placeholder="Weight (KG)" value="62.02" style="width: 100px;">
                <input type="text" placeholder="Value (Rs.)" value="2193.3" style="width: 120px;">
            </div>
            <div class="form-row" style="display: flex; gap: 5px; margin-bottom: 5px;">
                <input type="text" placeholder="SL No." value="2" style="width: 50px;">
                <input type="text" placeholder="Invoice No" value="1282761451" style="flex: 1;">
                <input type="text" placeholder="Packages" value="13" style="width: 80px;">
                <input type="text" placeholder="Weight (KG)" value="202.9" style="width: 100px;">
                <input type="text" placeholder="Value (Rs.)" value="17966" style="width: 120px;">
            </div>
        </div>
        <button type="button" onclick="addItemRow()" style="margin-top: 10px;">+ Add Item</button>
        
        <div class="button-group">
            <button type="button" onclick="generateInvoice()">Generate Invoice</button>
            <button type="button" onclick="window.print()">Print Invoice</button>
        </div>
    </div>
    
    <!-- Invoice Container (A4 Page) -->
    <div class="a4-page">
        <div class="invoice-container">
            <div class="copy-label" id="copyTypeOutput">TRANSPORTER COPY</div>
            
            <div class="header">
                <div class="company-name">PATLIPUTRA TRANSPORT CORPORATION</div>
                <div class="company-address">H.O-PATLIPUTRA TRANSPORT CORPORATION, Patna, Bihar, 800002</div>
                <div class="company-address">B.O- Ranchi</div>
                <div class="gst-no">GST NO-20ADMPA8920C1Z6</div>
            </div>
            
            <div class="invoice-details">
                <div class="consignor-details">
                    <div class="section-title">CONSIGNOR DETAILS</div>
                    <div class="detail-row">
                        <div class="detail-label">Name:</div>
                        <div class="detail-value" id="consignorNameOutput">ASIAN PAINTS LTD</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Address:</div>
                        <div class="detail-value" id="consignorAddressOutput">Dhanbad</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Contact No:</div>
                        <div class="detail-value" id="consignorContactOutput">7808958144</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">C/N No:</div>
                        <div class="detail-value" id="cnNoOutput">P/AS/25-26/02685</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">C/N Date:</div>
                        <div class="detail-value" id="cnDateOutput">20-05-2025</div>
                    </div>
                </div>
                
                <div class="consignee-details">
                    <div class="section-title">CONSIGNEE DETAILS</div>
                    <div class="detail-row">
                        <div class="detail-label">Name:</div>
                        <div class="detail-value" id="consigneeNameOutput">RAJESH HARDWARE PLY CENTER</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Address:</div>
                        <div class="detail-value" id="consigneeAddressOutput">Jamtara</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Contact No:</div>
                        <div class="detail-value" id="consigneeContactOutput"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Inv. Date:</div>
                        <div class="detail-value" id="invDateOutput">04-06-2025</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Way Bill No.:</div>
                        <div class="detail-value" id="wayBillNoOutput">04-06-2025</div>
                    </div>
                </div>
            </div>
            
            <div class="transport-details">
                <div class="detail-row">
                    <div class="detail-label">From:</div>
                    <div class="detail-value" id="fromLocationOutput">Dhanbad</div>
                    <div class="detail-label">To:</div>
                    <div class="detail-value" id="toLocationOutput">Jamtara</div>
                    <div class="detail-label">Truck No:</div>
                    <div class="detail-value" id="truckNoOutput">JH01DU-8224</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Transporter:</div>
                    <div class="detail-value" id="transporterOutput">Shri Ram Logistics</div>
                    <div class="detail-label">Insurance:</div>
                    <div class="detail-value" id="insuranceOutput">Asian Paints Products</div>
                </div>
            </div>
            
            <table class="items-table">
                <thead>
                    <tr>
                        <th>SL NO.</th>
                        <th>INVOICE NO</th>
                        <th>PACKAGES</th>
                        <th>WEIGHT (KG)</th>
                        <th>VALUE(₹)</th>
                    </tr>
                </thead>
                <tbody id="itemsTableOutput">
                    <tr>
                        <td>1</td>
                        <td>1309941891</td>
                        <td>01</td>
                        <td>62.02</td>
                        <td>2193.3</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>1282761451</td>
                        <td>13</td>
                        <td>202.9</td>
                        <td>17966</td>
                    </tr>
                    <tr>
                        <td colspan="3"></td>
                        <td><strong>TOTAL</strong></td>
                        <td><strong>20159.3</strong></td>
                    </tr>
                    <tr>
                        <td colspan="5" style="text-align: left; padding-left: 5mm;">TO BE BILLED AT RANCHI</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="footer">
                <div class="footer-section">
                    <div>PATLIPUTRA TRANSPORT CORPORATION</div>
                    <div style="font-style: italic; margin-top: 1mm;">DOOR DELIVERY</div>
                    <div class="signature-area">
                        <div class="signature-text">Authorized Signature</div>
                    </div>
                </div>
                <div class="footer-section">
                    <div>CONSIGNEE RECEIPT DATE & STAMP</div>
                    <div class="stamp-area">
                        <div id="deliveryDateOutput"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Add item row
        function addItemRow() {
            const container = document.getElementById('itemsContainer');
            const row = document.createElement('div');
            row.className = 'form-row';
            row.style.display = 'flex';
            row.style.gap = '5px';
            row.style.marginBottom = '5px';
            
            const slNo = container.children.length + 1;
            
            row.innerHTML = `
                <input type="text" placeholder="SL No." value="${slNo}" style="width: 50px;">
                <input type="text" placeholder="Invoice No" style="flex: 1;">
                <input type="text" placeholder="Packages" style="width: 80px;">
                <input type="text" placeholder="Weight (KG)" style="width: 100px;">
                <input type="text" placeholder="Value (Rs.)" style="width: 120px;">
            `;
            
            container.appendChild(row);
        }
        
        // Generate invoice from form data
        function generateInvoice() {
            // Copy type
            document.getElementById('copyTypeOutput').textContent = document.getElementById('copyType').value;
            
            // Consignor details
            document.getElementById('consignorNameOutput').textContent = document.getElementById('consignorName').value;
            document.getElementById('consignorAddressOutput').textContent = document.getElementById('consignorAddress').value;
            document.getElementById('consignorContactOutput').textContent = document.getElementById('consignorContact').value;
            
            // Consignee details
            document.getElementById('consigneeNameOutput').textContent = document.getElementById('consigneeName').value;
            document.getElementById('consigneeAddressOutput').textContent = document.getElementById('consigneeAddress').value;
            document.getElementById('consigneeContactOutput').textContent = document.getElementById('consigneeContact').value;
            
            // Transport details
            document.getElementById('fromLocationOutput').textContent = document.getElementById('fromLocation').value;
            document.getElementById('toLocationOutput').textContent = document.getElementById('toLocation').value;
            document.getElementById('truckNoOutput').textContent = document.getElementById('truckNo').value;
            document.getElementById('transporterOutput').textContent = document.getElementById('transporter').value;
            document.getElementById('insuranceOutput').textContent = document.getElementById('insurance').value;
            
            // Items table
            const container = document.getElementById('itemsContainer');
            const tableBody = document.getElementById('itemsTableOutput');
            
            // Clear existing rows except total row
            tableBody.innerHTML = '';
            
            let totalValue = 0;
            let totalWeight = 0;
            let totalPackages = 0;
            
            // Add items from form
            for (let i = 0; i < container.children.length; i++) {
                const row = container.children[i];
                const inputs = row.querySelectorAll('input');
                
                const slNo = inputs[0].value;
                const invoiceNo = inputs[1].value;
                const packages = inputs[2].value;
                const weight = inputs[3].value;
                const value = inputs[4].value;
                
                if (invoiceNo || packages || weight || value) {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${slNo}</td>
                        <td>${invoiceNo}</td>
                        <td>${packages}</td>
                        <td>${weight}</td>
                        <td>${value}</td>
                    `;
                    tableBody.appendChild(tr);
                    
                    totalValue += parseFloat(value) || 0;
                    totalWeight += parseFloat(weight) || 0;
                    totalPackages += parseInt(packages) || 0;
                }
            }
            
            // Add total row
            const totalRow = document.createElement('tr');
            totalRow.innerHTML = `
                <td colspan="3"></td>
                <td><strong>TOTAL</strong></td>
                <td><strong>${totalValue.toFixed(2)}</strong></td>
            `;
            tableBody.appendChild(totalRow);
            
            // Add billing location row
            const locationRow = document.createElement('tr');
            locationRow.innerHTML = `
                <td colspan="5" style="text-align: left; padding-left: 5mm;">TO BE BILLED AT RANCHI</td>
            `;
            tableBody.appendChild(locationRow);
            
            // Set delivery date (today)
            const today = new Date();
            const formattedDate = `${today.getDate().toString().padStart(2, '0')}-${(today.getMonth()+1).toString().padStart(2, '0')}-${today.getFullYear()}`;
            document.getElementById('deliveryDateOutput').textContent = `Delivered On: ${formattedDate}`;
            
            alert('Invoice generated successfully! Click Print Invoice to print.');
        }
        
        // Initialize with today's date for invoice
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            document.getElementById('invDateOutput').textContent = `${today.getDate().toString().padStart(2, '0')}-${(today.getMonth()+1).toString().padStart(2, '0')}-${today.getFullYear()}`;
            document.getElementById('wayBillNoOutput').textContent = `${today.getDate().toString().padStart(2, '0')}-${(today.getMonth()+1).toString().padStart(2, '0')}-${today.getFullYear()}`;
        });
    </script>
</body>
</html>
